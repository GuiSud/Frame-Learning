<!DOCTYPE HTML>
<html lang="zh-cn">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
    <meta name="description" content="网站的描述内容。" />
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta name="Author" content="归宿" />
    <meta name="Keywords" content="关键字" />
    <title>网页标题</title>
    <script type="./js/progress.js" type="text/javascript"></script>
</head>

<body>
    <div>
        <label>时间：单位s</label>
        <input type="text" id="timeValue" value='1' />
        <labe style="margin-left: 10px;">小数点</labe>
        <input type="text" id="decPlaValue" value='0' />
        <labe style="margin-left: 10px;">最终值：</labe>
        <input type="text" id="endValue" value='9527' />
    </div>
    <h2 id="text">0</h2>
    <h2 id="text1">0</h2>
    <button id="btn-count">0</button>
    <input type="text" id="input-text" value='0' />
    <button id="btn">开始</button>
</body>

<script type="text/javascript">
    // window.onload = function () {
        const { init, el } = window.lty_progress;
        let btn = el('#btn').addEventListener('click', (ev) => {
            const time = parseInt(el('#timeValue').value);
            const decPla = parseInt(el('#decPlaValue').value);
            const endValue = parseInt(el('#endValue').value);
            let o = new init([
                el("#text"),
                el("#text1"),
                el("#btn-count"),
                el("#input-text"),
            ], endValue, {
                startValue: 0,
                duration: time,
                decPla,
                done,
                change
            });

            function done(arg) {
                console.log("完成了");
            }

            function change(arg) {
                console.log("我在中！");
            }


            o.start(function () {
                console.log('成功了');
            });
        })
    // }
</script>

</html>